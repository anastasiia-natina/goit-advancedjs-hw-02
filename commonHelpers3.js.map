{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["function createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n\n    setTimeout(() => {\n      shouldResolve ? resolve({ position, delay }) : reject({ position, delay });\n    }, delay);\n  });\n}\n\nconst refs = {\n  form: document.querySelector('.form'),\n  delayInput: document.querySelector('[name=\"delay\"]'),\n  stepInput: document.querySelector('[name=\"step\"]'),\n  amountInput: document.querySelector('[name=\"amount\"]')\n};\n\nrefs.form.addEventListener('submit', function (event) {\n  event.preventDefault();\n\n  const firstDelay = parseInt(refs.delayInput.value);\n  const step = parseInt(refs.stepInput.value);\n  const amount = parseInt(refs.amountInput.value);\n\n  const promises = [];\n  for (let i = 1; i <= amount; i++) {\n    const currentDelay = firstDelay + (i - 1) * step;\n    const promise = createPromise(i, currentDelay)\n      .then(({ position, delay }) => {\n        console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n      });\n    promises.push(promise);\n  }\n\n  Promise.all(promises).finally(() => {\n    this.reset(); \n  });\n});"],"names":["createPromise","position","delay","resolve","reject","shouldResolve","refs","event","firstDelay","step","amount","promises","i","currentDelay","promise"],"mappings":"wFAAA,SAASA,EAAcC,EAAUC,EAAO,CACtC,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtC,MAAMC,EAAgB,KAAK,OAAM,EAAK,GAEtC,WAAW,IAAM,CACfA,EAAgBF,EAAQ,CAAE,SAAAF,EAAU,MAAAC,CAAK,CAAE,EAAIE,EAAO,CAAE,SAAAH,EAAU,MAAAC,CAAK,CAAE,CAC1E,EAAEA,CAAK,CACZ,CAAG,CACH,CAEA,MAAMI,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,EACpC,WAAY,SAAS,cAAc,gBAAgB,EACnD,UAAW,SAAS,cAAc,eAAe,EACjD,YAAa,SAAS,cAAc,iBAAiB,CACvD,EAEAA,EAAK,KAAK,iBAAiB,SAAU,SAAUC,EAAO,CACpDA,EAAM,eAAc,EAEpB,MAAMC,EAAa,SAASF,EAAK,WAAW,KAAK,EAC3CG,EAAO,SAASH,EAAK,UAAU,KAAK,EACpCI,EAAS,SAASJ,EAAK,YAAY,KAAK,EAExCK,EAAW,CAAA,EACjB,QAASC,EAAI,EAAGA,GAAKF,EAAQE,IAAK,CAChC,MAAMC,EAAeL,GAAcI,EAAI,GAAKH,EACtCK,EAAUd,EAAcY,EAAGC,CAAY,EAC1C,KAAK,CAAC,CAAE,SAAAZ,EAAU,MAAAC,KAAY,CAC7B,QAAQ,IAAI,uBAAuBD,QAAeC,KAAS,CACnE,CAAO,EACA,MAAM,CAAC,CAAE,SAAAD,EAAU,MAAAC,KAAY,CAC9B,QAAQ,IAAI,sBAAsBD,QAAeC,KAAS,CAClE,CAAO,EACHS,EAAS,KAAKG,CAAO,CACtB,CAED,QAAQ,IAAIH,CAAQ,EAAE,QAAQ,IAAM,CAClC,KAAK,MAAK,CACd,CAAG,CACH,CAAC"}